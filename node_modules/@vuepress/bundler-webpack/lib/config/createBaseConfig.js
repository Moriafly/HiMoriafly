"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createBaseConfig = void 0;
const Config = require("webpack-chain");
const handleDevtool_1 = require("./handleDevtool");
const handleEntry_1 = require("./handleEntry");
const handleMode_1 = require("./handleMode");
const handleModule_1 = require("./handleModule");
const handleNode_1 = require("./handleNode");
const handleOtherOptions_1 = require("./handleOtherOptions");
const handlePluginDefine_1 = require("./handlePluginDefine");
const handleResolve_1 = require("./handleResolve");
const createBaseConfig = async ({ app, options, isBuild, isServer, }) => {
    // create new webpack-chain config
    const config = new Config();
    /**
     * entry
     */
    (0, handleEntry_1.handleEntry)({ app, config });
    /**
     * mode
     */
    (0, handleMode_1.handleMode)({ app, config });
    /**
     * node
     */
    (0, handleNode_1.handleNode)({ config });
    /**
     * devtool
     */
    (0, handleDevtool_1.handleDevtool)({ app, config });
    /**
     * resolve
     */
    await (0, handleResolve_1.handleResolve)({ app, config });
    /**
     * module
     */
    (0, handleModule_1.handleModule)({ app, options, config, isBuild, isServer });
    /**
     * plugins
     */
    await (0, handlePluginDefine_1.handlePluginDefine)({ app, config, isServer });
    /**
     * other options
     */
    (0, handleOtherOptions_1.handleOtherOptions)({ app, config, isBuild, isServer });
    return config;
};
exports.createBaseConfig = createBaseConfig;
