"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getContributors = void 0;
const execa = require("execa");
const getContributors = async (filePath, cwd) => {
    const { stdout } = await execa('git', ['--no-pager', 'shortlog', '-nes', 'HEAD', '--', filePath], {
        cwd,
        stdin: 'inherit',
    });
    return stdout
        .split('\n')
        .map((item) => item.trim().match(/^(\d+)\t(.*) <(.*)>$/))
        .filter((item) => item !== null)
        .map(([, commits, name, email]) => ({
        name,
        email,
        commits: Number.parseInt(commits, 10),
    }));
};
exports.getContributors = getContributors;
