"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.inferPagePath = void 0;
const shared_1 = require("@vuepress/shared");
/**
 * Infer page path according to file path
 */
const inferPagePath = ({ app, filePathRelative, }) => {
    if (!filePathRelative) {
        return {
            pathInferred: null,
            pathLocale: '/',
        };
    }
    // infer page route path from file path
    // foo/bar.md -> /foo/bar.html
    const pathInferred = (0, shared_1.ensureLeadingSlash)(filePathRelative)
        .replace(/\.md$/, '.html')
        .replace(/\/(README|index).html$/i, '/');
    // resolve page locale path
    const pathLocale = (0, shared_1.resolveLocalePath)(app.siteData.locales, pathInferred);
    return {
        pathInferred,
        pathLocale,
    };
};
exports.inferPagePath = inferPagePath;
