"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveThemeObject = void 0;
const shared_1 = require("@vuepress/shared");
const utils_1 = require("@vuepress/utils");
const resolvePluginObject_1 = require("./resolvePluginObject");
/**
 * Resolve a theme object according to the theme name
 */
const resolveThemeObject = (app, theme, themeConfig) => {
    // resolve theme entry according to theme name
    const themeEntry = (0, utils_1.requireResolve)(utils_1.path.isAbsolute(theme)
        ? theme
        : (0, shared_1.normalizePackageName)(theme, 'vuepress', 'theme'));
    if (themeEntry === null) {
        throw utils_1.logger.createError(`theme is not found: ${utils_1.chalk.magenta(theme)}`);
    }
    // resolve theme object from theme entry
    const themeObject = (0, resolvePluginObject_1.resolvePluginObject)(app, themeEntry, themeConfig);
    return themeObject;
};
exports.resolveThemeObject = resolveThemeObject;
