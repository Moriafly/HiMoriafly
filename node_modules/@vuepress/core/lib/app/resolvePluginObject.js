"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolvePluginObject = void 0;
const shared_1 = require("@vuepress/shared");
const utils_1 = require("@vuepress/utils");
const resolvePluginModule_1 = require("./resolvePluginModule");
/**
 * Resolve a plugin object according to name / path / module and config
 */
const resolvePluginObject = (app, plugin, pluginConfig = {}) => {
    const pluginModule = (0, shared_1.isString)(plugin)
        ? (0, resolvePluginModule_1.resolvePluginModule)(plugin)
        : plugin;
    if (pluginModule === null) {
        throw utils_1.logger.createError(`plugin is not found: ${utils_1.chalk.magenta(plugin)}`);
    }
    const pluginObject = (0, shared_1.isFunction)(pluginModule)
        ? pluginModule(pluginConfig, app)
        : pluginModule;
    return pluginObject;
};
exports.resolvePluginObject = resolvePluginObject;
