"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveAppWriteTemp = void 0;
const utils_1 = require("@vuepress/utils");
/**
 * Resolve write temp file util for vuepress app
 */
const resolveAppWriteTemp = (dir) => {
    const tempCache = new Map();
    const writeTemp = async (file, content) => {
        const filePath = dir.temp(file);
        const contentCached = tempCache.get(filePath);
        if (contentCached !== content) {
            await utils_1.fs.outputFile(filePath, content);
            tempCache.set(filePath, content);
        }
        return filePath;
    };
    return writeTemp;
};
exports.resolveAppWriteTemp = resolveAppWriteTemp;
