"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolvePageContent = void 0;
const matter = require("gray-matter");
const toml = require("toml");
/**
 * Resolve page content and raw frontmatter & excerpt
 */
const resolvePageContent = ({ contentRaw, }) => {
    if (!contentRaw) {
        return {
            content: '',
            frontmatterRaw: {},
            excerptRaw: '',
        };
    }
    /* istanbul ignore next */
    const { data, content, excerpt = '', } = matter(contentRaw, {
        excerpt_separator: '<!-- more -->',
        engines: {
            toml: toml.parse.bind(toml),
        },
    });
    return {
        content,
        frontmatterRaw: data,
        excerptRaw: excerpt,
    };
};
exports.resolvePageContent = resolvePageContent;
