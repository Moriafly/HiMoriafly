"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveAlias = void 0;
const resolveAlias = async ({ app, isServer, }) => {
    const alias = {
        '@internal': app.dir.temp('internal'),
        '@temp': app.dir.temp(),
        '@source': app.dir.source(),
    };
    // plugin hook: alias
    const aliasResult = await app.pluginApi.hooks.alias.process(app);
    aliasResult.forEach((aliasObject) => Object.entries(aliasObject).forEach(([key, value]) => {
        alias[key] = value;
    }));
    return [
        ...Object.keys(alias).map((item) => ({
            find: item,
            replacement: alias[item],
        })),
        ...(isServer
            ? []
            : [
                {
                    find: /^vue$/,
                    replacement: 'vue/dist/vue.runtime.esm-bundler.js',
                },
                {
                    find: /^vue-router$/,
                    replacement: 'vue-router/dist/vue-router.esm-bundler.js',
                },
            ]),
    ];
};
exports.resolveAlias = resolveAlias;
