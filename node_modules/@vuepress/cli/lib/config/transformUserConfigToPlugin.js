"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformUserConfigToPlugin = void 0;
const utils_1 = require("@vuepress/utils");
/**
 * Transform user config to a vuepress plugin
 */
const transformUserConfigToPlugin = (app, userConfig) => {
    const userConfigPlugin = {
        name: 'user-config',
        ...userConfig,
    };
    // if `clientAppEnhanceFiles` is not set explicitly,
    // try to load conventional files
    if (userConfigPlugin.clientAppEnhanceFiles === undefined) {
        userConfigPlugin.clientAppEnhanceFiles = [
            app.dir.source('.vuepress/clientAppEnhance.ts'),
            app.dir.source('.vuepress/clientAppEnhance.js'),
        ].find((item) => utils_1.fs.pathExistsSync(item));
    }
    return userConfigPlugin;
};
exports.transformUserConfigToPlugin = transformUserConfigToPlugin;
