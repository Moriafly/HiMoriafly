"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveAppConfig = void 0;
const utils_1 = require("@vuepress/utils");
/**
 * Resolve app config according to:
 *
 * - default options
 * - cli options
 * - user config file
 */
const resolveAppConfig = ({ defaultAppConfig, cliAppConfig, userConfig, }) => {
    const appConfig = {
        // allow setting default app config via `cli()`
        // for example, set different default bundler in `vuepress` and `vuepress-vite` package
        ...defaultAppConfig,
        // use cli options to override config file
        ...userConfig,
        ...cliAppConfig,
    };
    if (appConfig.bundler === undefined || appConfig.theme === undefined) {
        utils_1.logger.error(`${utils_1.chalk.magenta('bundler')} and ${utils_1.chalk.magenta('theme')} are required`);
        return null;
    }
    return appConfig;
};
exports.resolveAppConfig = resolveAppConfig;
