import { readonly, ref } from 'vue';
import { pagesData } from './pagesData';
/**
 * Empty page data to be used as the fallback value
 */
export const pageDataEmpty = readonly({
    key: '',
    path: '',
    title: '',
    lang: '',
    frontmatter: {},
    excerpt: '',
    headers: [],
});
/**
 * Global page data ref
 */
export const pageData = ref(pageDataEmpty);
/**
 * Returns the ref of the data of current page
 */
export const usePageData = () => pageData;
if (import.meta.webpackHot || import.meta.hot) {
    // reuse vue HMR runtime
    __VUE_HMR_RUNTIME__.updatePageData = (data) => {
        pagesData.value[data.key] = () => Promise.resolve(data);
        if (data.key === pageData.value.key) {
            pageData.value = data;
        }
    };
}
