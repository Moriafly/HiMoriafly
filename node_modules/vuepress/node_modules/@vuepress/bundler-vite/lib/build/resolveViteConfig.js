"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveViteConfig = void 0;
const vite_1 = require("vite");
const plugins_1 = require("../plugins");
const resolveViteConfig = ({ app, options, isServer, }) => {
    var _a;
    return (0, vite_1.mergeConfig)({
        configFile: false,
        plugins: (0, plugins_1.createPlugins)({ app, options, isServer, isBuild: true }),
        // `logLevel` won't take effect in `config` hook of plugin API
        logLevel: app.env.isDebug ? 'info' : 'warn',
    }, (_a = options.viteOptions) !== null && _a !== void 0 ? _a : {});
};
exports.resolveViteConfig = resolveViteConfig;
