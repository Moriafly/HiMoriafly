# 歌词

椒盐音乐致力于为用户带来优秀的歌词体验，在使用上不输于一些流媒体平台。

## 歌词来源

#### 内嵌歌词

ID3 标签嵌入歌词，暂时仅支持 MP3 和 FLAC 格式。

#### LRC 歌词

.lrc 歌词文件，需要歌词文件和歌曲同文件名。支持多种文本编码。

#### 网络歌词

当椒盐音乐无法获取内嵌和 LRC 歌词后会尝试获取网络歌词。网络歌词可能无法完全正确匹配，你可以在设置里关闭它。

## 歌词体验

#### 歌词界面

椒盐音乐歌词界面位于播放界面的右边，竖屏下右滑即可。

#### 桌面歌词

椒盐音乐支持桌面歌词，需要提供悬浮窗权限。

## 相关问题解答

#### 歌词的获取逻辑是怎么样的？

前提：确保椒盐音乐拥有读取外部存储的权限。

椒盐音乐会先尝试获取歌曲文件的内嵌歌词（仅当文件格式为 MP3 或 FLAC），且需要内嵌歌词的编码格式为 UTF-8（更改编码可以使用音乐标签的编码修复功能）。若无法获取内嵌则尝试获取同目录下和歌曲文件同名的 LRC（拓展名为 .lrc） 文件，支持多种编码格式。最后尝试获取网络歌词，注意网络歌词匹配无法做到 100% 准确（受匹配源和本地音乐内部元数据标签影响），会持续优化，请勿因为网络匹配错误反馈。

::: warning 注意
网络歌曲服务可能仅在国内提供。
:::

#### 歌词来源含义

EMBEDDED（或 JAUDIOTAG 等）：内嵌歌词

LRC FILE（后接编码歌词）：LRC 文件歌词

INTERENT：网络歌词

UNKNOWN：未知歌词来源（保留选项）

#### 歌词翻译

椒盐音乐支持同时间戳翻译（3.6.0 开始支持网络歌词翻译，若有），如：
```
[00:10:15]我爱你
[00:10:15]I love you
```
如上翻译在歌词界面显示为：
```
我爱你
I love you
```
但是音乐标签默认可能是这样的：
```
[00:10:15]我爱你 I love you
```
请在音乐标签应用中，点击设置 - 下载翻译 - 歌词格式，修改成为你喜欢的。

#### 时间戳格式说明

歌词时间戳只支持一至六位毫秒格式（3.6.0 版本前只支持二或三位），如以下类型都是支持的：
```
[00:28.55]雪花飘 青山遇绝壁
[00:28.6]雪花飘 青山遇绝壁
[00:28.54449]雪花飘 青山遇绝壁
```
注意时间戳的格式，最后的分隔是 “ . ” （点）而不是 “ : ” （冒号）。

#### 已配置 lrc 歌词为什么不显示？

lrc 文件必须和歌曲文件同名且在同一个文件夹下。且注意，若你配置了内嵌歌词（MP3、FLAC 格式），且此歌词格式不符合需求（无时间戳标识），那么页面会显示暂无歌词，标识为 EMBEDDED（或 JAUDIOTAG 等）。